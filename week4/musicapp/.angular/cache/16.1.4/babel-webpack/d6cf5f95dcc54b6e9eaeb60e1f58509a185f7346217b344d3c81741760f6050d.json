{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class MusicServiceService {\n  //albums: Album[] = exampledata;\n  constructor(http) {\n    this.http = http;\n    this.host = \"http://localhost:5000\";\n  }\n  getArtists(callback) {\n    this.http.get(this.host + \"/artists\").subscribe(artists => {\n      callback(artists);\n    });\n  }\n  getAlbums(callback) {\n    // Return the list of albums\n    this.http.get(this.host + \"/albums\").subscribe(albums => {\n      callback(albums);\n    });\n  }\n  getAlbumsOfArtist(artistName, callback) {\n    let request = this.host + `/albums/${artistName}`;\n    console.log(\"request\", request);\n    this.http.get(request).subscribe(albums => {\n      console.log(\"have albums\", albums);\n      callback(albums);\n    });\n  }\n  createAlbum(album, callback) {\n    // Add a new album\n    this.http.post(this.host + \"/albums\", album).subscribe(data => {\n      callback();\n    });\n  }\n  updateAlbum(album, callback) {\n    this.http.put(this.host + \"/albums\", album).subscribe(data => {\n      callback();\n    });\n  }\n  deleteAlbum(id, callback) {\n    this.http.delete(this.host + \"/albums/\" + id).subscribe(data => {\n      callback();\n    });\n  }\n}\nMusicServiceService.ɵfac = function MusicServiceService_Factory(t) {\n  return new (t || MusicServiceService)(i0.ɵɵinject(i1.HttpClient));\n};\nMusicServiceService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: MusicServiceService,\n  factory: MusicServiceService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["MusicServiceService","constructor","http","host","getArtists","callback","get","subscribe","artists","getAlbums","albums","getAlbumsOfArtist","artistName","request","console","log","createAlbum","album","post","data","updateAlbum","put","deleteAlbum","id","delete","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\Coding\\GCU\\CST-391\\week4\\musicapp\\src\\app\\service\\music-service.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport exampledata from '../../data/sample-music-data.json';\nimport { HttpClient } from '@angular/common/http';\nimport { Album } from '../models/Album';\nimport { Artist } from '../models/Artist';\n\n@Injectable({ providedIn: 'root' })\nexport class MusicServiceService {\n\n  private host = \"http://localhost:5000\"\n  //albums: Album[] = exampledata;\n\n  constructor(private http: HttpClient) {}\n \n\n\n  \n  \n  public getArtists(callback: (artists: Artist[]) => void): void {\n\n    this.http.get<Artist[]>(this.host + \"/artists\")\n      .subscribe((artists: Artist[]) => {\n        callback(artists);\n      });\n  }\n\n\n  public getAlbums(callback: (albums: Album[]) => void): void{\n    // Return the list of albums\n\n    this.http.get<Album[]>(this.host + \"/albums\").\n      subscribe((albums: Album[]) => {\n        callback(albums);\n      });\n  }\n\n  public getAlbumsOfArtist(artistName: String, callback: (albums: Album[]) => void): void {\n\n    let request = this.host + `/albums/${artistName}`;\n    console.log(\"request\", request);\n    this.http.get<Album[]>(request).\n      subscribe((albums: Album[]) => {\n        console.log(\"have albums\", albums);\n        callback(albums);\n      });\n  }\n\n  public createAlbum(album: Album, callback: () => void): void {\n    // Add a new album\n    this.http.post<Album>(this.host + \"/albums\", album)\n      .subscribe((data) => {\n        callback();\n      });\n  }\n\n  public updateAlbum(album: Album, callback: () => void): void {\n    this.http.put<Album>(this.host + \"/albums\", album)\n      .subscribe((data) => {\n        callback();\n      });\n  }\n\n  public deleteAlbum(id: number, callback: () => void ): void {\n    this.http.delete(this.host + \"/albums/\" + id)\n      .subscribe((data) => {\n        callback();\n      });\n  }\n}\n"],"mappings":";;AAOA,OAAM,MAAOA,mBAAmB;EAG9B;EAEAC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAHhB,KAAAC,IAAI,GAAG,uBAAuB;EAGC;EAMhCC,UAAUA,CAACC,QAAqC;IAErD,IAAI,CAACH,IAAI,CAACI,GAAG,CAAW,IAAI,CAACH,IAAI,GAAG,UAAU,CAAC,CAC5CI,SAAS,CAAEC,OAAiB,IAAI;MAC/BH,QAAQ,CAACG,OAAO,CAAC;IACnB,CAAC,CAAC;EACN;EAGOC,SAASA,CAACJ,QAAmC;IAClD;IAEA,IAAI,CAACH,IAAI,CAACI,GAAG,CAAU,IAAI,CAACH,IAAI,GAAG,SAAS,CAAC,CAC3CI,SAAS,CAAEG,MAAe,IAAI;MAC5BL,QAAQ,CAACK,MAAM,CAAC;IAClB,CAAC,CAAC;EACN;EAEOC,iBAAiBA,CAACC,UAAkB,EAAEP,QAAmC;IAE9E,IAAIQ,OAAO,GAAG,IAAI,CAACV,IAAI,GAAG,WAAWS,UAAU,EAAE;IACjDE,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,OAAO,CAAC;IAC/B,IAAI,CAACX,IAAI,CAACI,GAAG,CAAUO,OAAO,CAAC,CAC7BN,SAAS,CAAEG,MAAe,IAAI;MAC5BI,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEL,MAAM,CAAC;MAClCL,QAAQ,CAACK,MAAM,CAAC;IAClB,CAAC,CAAC;EACN;EAEOM,WAAWA,CAACC,KAAY,EAAEZ,QAAoB;IACnD;IACA,IAAI,CAACH,IAAI,CAACgB,IAAI,CAAQ,IAAI,CAACf,IAAI,GAAG,SAAS,EAAEc,KAAK,CAAC,CAChDV,SAAS,CAAEY,IAAI,IAAI;MAClBd,QAAQ,EAAE;IACZ,CAAC,CAAC;EACN;EAEOe,WAAWA,CAACH,KAAY,EAAEZ,QAAoB;IACnD,IAAI,CAACH,IAAI,CAACmB,GAAG,CAAQ,IAAI,CAAClB,IAAI,GAAG,SAAS,EAAEc,KAAK,CAAC,CAC/CV,SAAS,CAAEY,IAAI,IAAI;MAClBd,QAAQ,EAAE;IACZ,CAAC,CAAC;EACN;EAEOiB,WAAWA,CAACC,EAAU,EAAElB,QAAoB;IACjD,IAAI,CAACH,IAAI,CAACsB,MAAM,CAAC,IAAI,CAACrB,IAAI,GAAG,UAAU,GAAGoB,EAAE,CAAC,CAC1ChB,SAAS,CAAEY,IAAI,IAAI;MAClBd,QAAQ,EAAE;IACZ,CAAC,CAAC;EACN;;AA5DWL,mBAAmB,C;mBAAnBA,mBAAmB,EAAAyB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;AAAA;AAAnB5B,mBAAmB,C;SAAnBA,mBAAmB;EAAA6B,OAAA,EAAnB7B,mBAAmB,CAAA8B,IAAA;EAAAC,UAAA,EADN;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}